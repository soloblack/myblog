<!doctype html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="Content of description meta tag"/>
        <meta name="keywords" content="keyword1,keyword2,keyword3"/>
        <meta name="author" content="Content of author meta tag"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <title>SoLoBlack - 最近笔试遇到的一些问题
</title>
        <link rel="stylesheet" href="/assets/vendor/normalize.css"/>
        <link rel="stylesheet" href="/assets/vendor/prettify-night.css"/>
        <link rel="stylesheet" href="/assets/themes/default/main.css"/>
        <link rel="shortcut icon" href="/fav.ico"/>
        <script type="text/javascript" src="/assets/vendor/prettify.js"></script>
        <style>
#elevator_item {
    width: 60px;
    height: 100px;
    position: fixed;
    right: 15px;
    bottom: 15px;
    -webkit-transition: opacity .4s ease-in-out;
    -moz-transition: opacity .4s ease-in-out;
    -o-transition: opacity .4s ease-in-out;
    opacity: 1;
    z-index: 100020;
    display: none;
}
#elevator_item.off {
    opacity: 0;
    visibility: hidden
}
#elevator {
    display: block;
    width: 60px;
    height: 50px;
    background: url(http://soloimage-soloimage.stor.sinaapp.com/original/3a0ac723388795990a5e17a6a0fc97c3.png) center center no-repeat;
    background-color: #444;
    background-color: rgba(0,0,0,.6);
    border-radius: 2px;
    box-shadow: 0 1px 3px rgba(0,0,0,.2);
    cursor: pointer;
    margin-bottom: 10px
}
#elevator:hover {
    background-color: rgba(0,0,0,.7)
}
#elevator:active {
    background-color: rgba(0,0,0,.75)
}
#elevator_item .qr {
    display: block;
    width: 60px;
    height: 40px;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgba(0,0,0,.2);
    cursor: pointer;
    background: url(http://soloimage-soloimage.stor.sinaapp.com/original/de8685ffd3d71949539910f167181a6b.png) center center no-repeat;
    background-color: #444;
    background-color: rgba(0,0,0,.6)
}
#elevator_item .qr:hover {
    background-color: rgba(0,0,0,.7)
}
#elevator_item .qr:active {
    background-color: rgba(0,0,0,.75)
}
#elevator_item .qr-popup {
    width: 170px;
    height: 200px;
    background: #fff;
    box-shadow: 0 1px 8px rgba(0,0,0,.1);
    position: absolute;
    left: -180px;
    bottom: 0;
    border-radius: 2px;
    display: none;
    text-align: center
}
#elevator_item .qr-popup .code-link {
    display: block;
    margin: 10px;
    color: #777
}
#elevator_item .qr-popup .code {
    display: block;
    margin-bottom: 10px
}
#elevator_item .qr-popup .arr {
    width: 6px;
    height: 11px;
    background: url(http://soloimage-soloimage.stor.sinaapp.com/original/4919b036b7315926d600928203014f77.png) 0 0 no-repeat;
    position: absolute;
    right: -6px;
    bottom: 14px
}
</style>
<script type="text/javascript">
var _speedMark = new Date();
</script>

    </head>
    <body onload="prettyPrint()">
    <div id="header">
        <div id="header-inner">
            <div id="title"><a href="/">SoLoBlack</a></div>
            <div id="subtitle">小码农的成长之路</div>
        </div>
    </div>

<div id="main">
    <div id="main-inner">
        <div id="topnav">
            <ul>
                <li><a href="/">首页</a></li>
                <li class="sep"> | </li>
                <li><a href="/tag.html">标签</a></li>
                
<li class="sep"> | </li>
<li><a href="/pages/about-me.html" target="_self">关于我</a></li>

<li class="sep"> | </li>
<li><a href="/pages/blog-share.html" target="_self">博客分享</a></li>

<li class="sep"> | </li>
<li><a href="/pages/artical-share.html" target="_self">醍醐灌顶</a></li>

<li class="sep"> | </li>
<li><a href="https://github.com/ericzhang-cn/papery" target="_blank">这个博客是如何搭建的</a></li>


            </ul>
            <div style="clear:both;"></div>
        </div>
        <div id="article-title">
            <a href="/articles/work-exam.html">最近笔试遇到的一些问题</a>
        </div>
        <div id="article-meta">
            作者 SoLoBlack | 发布于 2014-10-12
        </div>
        <div id="article-tags">
        
        <a class="tag" href="/tag.html#笔试">笔试</a>
        
        </div>
        <div id="article-content">
            <hr>
<!-- toc -->

<ul>
<li><a href="#第一题">第一题</a><ul>
<li><a href="#描述">描述</a></li>
<li><a href="#分析">分析</a></li>
<li><a href="#实现">实现</a></li>
</ul>
</li>
<li><a href="#第二题">第二题</a><ul>
<li><a href="#描述">描述</a></li>
<li><a href="#分析">分析</a></li>
<li><a href="#实现">实现</a></li>
</ul>
</li>
<li><a href="#第三题">第三题</a><ul>
<li><a href="#描述">描述</a></li>
<li><a href="#分析">分析</a></li>
<li><a href="#代码">代码</a></li>
</ul>
</li>
</ul>
<!-- toc stop -->

<h2 id="第一题">第一题</h2>
<h3 id="描述">描述</h3>
<blockquote>
<p>这道题是10月11日京东笔试的笔试题
具体描述记不太清了，大概是这样的：给一个数n，输出一个最小的数m，使得m的各个位的乘积等于n。
例如: 输入36，输出49；输入100，输出455</p>
</blockquote>
<h3 id="分析">分析</h3>
<p>关键字：最小
拿到题之后我自己在草稿纸上画图分析，当时画了这样一个图<br><img src="http://soloimage-soloimage.stor.sinaapp.com/original/48d6ddd3b0f29a444df540cb94871a07.png" alt="此处输入图片的描述"><br>感觉这样就把所有的情况列举了出来，然后一步步算把最小的记录下来就行。<br>事实上这种方法是可以得到正确结果的，但明显是非常暴力的。<br>由于时间关系当时在卷子上实现的程序就是按照这个想法去写的。  </p>
<p>但是我回到家里越想越不对。明显这么做是一分都拿不到的。。。<br>仔细阅读了题目之后，发现题目要求的最小会是一个突破口。<br>于是有了下面的想法<br>divider从9开始，一直到1，看n能不能整除divider，如果能整除了，将rs的最低位写为divider，进行下一轮，如果某一轮divider到了1，返回-1。每次n=n/divider，直到n小于10。<br>比如126，<br>第一轮divider为9，有n=126/9=14  rs=9<br>第二轮divider为7，有n=14/7=2    rs=79<br>n已经小于10了，rs=279<br>目前来讲我认为这么做是最优的，如果各位有更好的方法欢迎交流。  </p>
<h3 id="实现">实现</h3>
<pre class="prettyprint linenums lang-c++">#include &lt;iostream&gt;
using namespace std;
int func(int n){
    cout&lt;&lt;”call func “&lt;&lt;n&lt;&lt;endl;
    if(n&gt;=1&amp;&amp;n&lt;=9)
        return n;
    int result=0;
    int tmp=0;
    int flag=0;
    for(int i=9;i&gt;=2;i--){
        if(n%i==0){
            flag=1;
            tmp=n/i;
            if(tmp==1){
                result=i;
                break;
            }
            else{
                result=func(tmp)*10+i;
                break;
            }
        }
    }
    if(flag&amp;&amp;result&gt;0)
        return result;
    else
        return -1;
}
int main(){
    cout&lt;&lt;func(36);
    return 0;
}
</pre>
<h2 id="第二题">第二题</h2>
<h3 id="描述">描述</h3>
<p>给定一个数组a[N]，我们希望构造数组b[N]，其中b[i]=a[0]*a[1]*...*a[N-1]/a[i]。
在构造过程中</p>
<blockquote>
<p>不允许使用除法；
要求O(1)的空间复杂度和O(n)的时间复杂度；
除去遍历计数器与a[N]、b[N]外，不可使用新的变量（包括但不限于栈临时变量、堆空间和全局静态变量等）
本题来自新浪微博</p>
</blockquote>
<h3 id="分析">分析</h3>
<p>乍一看这个题没有什么难的，可是在笔试过程中我足足想了大概20分钟。
拿到题目分析得出
b[0] = a[0]^0 * a[1]^1 * a[2] *...a[N-1]^1;
b[1] = a[0]^1 * a[1]^0 * a[2] *...a[N-1]^1;
......
b[N-1] = a[0]^1 * a[1]^1 * a[2] *...a[N-1]^0;
若N=8,由此可得矩阵
$$
\begin{matrix}
0 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1\\
1 &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1\\
1 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1\\
1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 1\\
1 &amp; 1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 1\\
1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 1\\
1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 0 &amp; 1\\
1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 1 &amp; 0\\
\end{matrix}
$$
根据题目要求，空间复杂度O(1)，时间复杂度O(N)<br>以0为分割线看这个矩阵可以分析得出<br>（注:b_left为0左边的值 b_right为0右边的值 并且b_left[]和b_[]right初始化为1）<br>b_left[1]    = b_left[0] * a[0] * b_right[1];<br>b_right[N-2] = b_right[N-1] * a_[N-1] * b_left[N-2];<br>...<br>b_left[N-1]    = b_left[N-2] * a[N-2] * b_right[N-1];<br>b_right[0] = b_right[1] * a_[1] * b_left[0];<br>进行到这里就发现了。我们需要一个大小为n的空间啊<br>可是题目不让啊。。。这怎么办呢。。。<br>我在考试的时候那个版本是错的，现在这个马上就要展示的版本是我和好基友吃饭的时候想出来的<br>计算的思想和上边讲的一样<br>只不过在空间的利用上巧妙了一些。说白了就是看破了对角线这两个<br>b_left[0]=a[0]^0<br>b_right[N-1]=a[N-1]^0<br>这两个值永远是1<br>所以我们可以利用他们的空间，随便用上一个这个问题就解决了<br>Talk is cheap , show you the code  </p>
<h3 id="实现">实现</h3>
<pre class="prettyprint linenums lang-c++">#include &lt;iostream&gt;
#define length 8
using namespace std;
int main(){
    int N=length;
    int a[length]={
        1,2,3,4,5,6,7,8
    };
    int b[length];
    for(int i = 0;i&lt;length;i++){
        b[i]=1;
    }
    for(int i=length-2;i&gt;=0;i--){
        b[i]=b[i+1]*a[i+1];
    }
    for(int i=1;i&lt;length-1;i++){
        a[i]=a[i-1]*a[i];
    }
    for(int i=length-1;i&gt;0;i--){
        a[i]=a[i-1];
    }
    a[0]=1; //这里利用的是 b\_left\[0\]=a\[0\]^0
    for(int i=0;i&lt;length;i++){
        cout&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;a[i]&lt;&lt;&quot; &quot;&lt;&lt;b[i]&lt;&lt;&quot; &quot;&lt;&lt;a[i]*b[i]&lt;&lt;endl;
    }
}
</pre>
<h2 id="第三题">第三题</h2>
<h3 id="描述">描述</h3>
<blockquote>
<p>这个题目很朴素，两个排好序的数组，高效地找出相同的数</p>
</blockquote>
<h3 id="分析">分析</h3>
<p>正式开始自我吐槽，当时做这个题的时候脑子一定是让驴踢了。满脑子的二分递归递归二分的。<br>直接导致了我把两个数组二分成四个部分，然后根据a[half]和b[half]的值来进行递归计算。<br>假定数组A的长度为M，B的长度为N，如果不剪枝，时间复杂度为惊人的O(3^(ln(max(M,N))/ln(2))<br>我写完了还觉得挺开心。。。真是学的太死了。最近做题都有些模板化了，不怎么动脑子去想。总是用感觉指导自己。  </p>
<p>哎。来说一下正确的思路。<br>既然是排序好的数组那我们用两个指针来遍历数组，Code大概是这样的  </p>
<pre class="prettyprint linenums lang-c++">bool find_same_num(int a[], int a_length, int b[], int b_length)
{
     int i=0,j=0;
     while(i&lt;a_length &amp;&amp; j&lt;b_length)
     {
          if(a[i]==b[j])
               return true;
          if(a[i]&gt;b[j])
               j++;
          if(a[i]&lt;b[j])
               i++;
     }
     return false;
}
</pre>
<p>多么朴素的方法，时间复杂度为O(max(M,N))。<br>有的时候。。。真的是拿到题要多想一下，不要着急下笔，自己算一算时间复杂度。  </p>
<p>再说一个O(M*logN)的算法<br>遍历其中一个数组，然后对另一个数组做二分查找，代码如下  </p>
<pre class="prettyprint linenums lang-c++">bool find_same_num(int a[],int a_length,int b[],int b_length)
{
     int i;
     for(i=0;i&lt;a_length;i++)
     {
          int start=0,end=b_length-1,mid;
          while(start&lt;=end)
          {
               mid=(start+end)/2;
               if(a[i]==b[mid])
                    return true;
               else if (a[i]&lt;b[mid])
                    end=mid-1;
               else
                    start=mid+1;
          }
     }
     return false;
}
</pre>
<h3 id="代码">代码</h3>
<p>为了保持原汁原味。。。我还是贴一下我最开始那个变态思路的代码吧。多了一些剪枝  </p>
<pre class="prettyprint linenums lang-c++">#include &lt;iostream&gt;
using namespace std;
int find_same_num(int a[],int b[],int a_s,int a_e,int b_s,int b_e){
    if(a[a_e]&lt;b[b_s]||b[b_e]&lt;a[a_s])
        return 0;
    printf(&quot;call find_same_num(%d,%d,%d,%d)\n&quot;,a_s,a_e,b_s,b_e);
    int a_half=(a_s+a_e)/2;
    int b_half=(b_s+b_e)/2;
    if(a[a_half]==b[b_half]){
        printf(&quot;%d &quot;,a[a_half]);
        return 1;
    }
    if(a_e==a_s&amp;&amp;b_e==b_s){
        return 0;
    }
    if(a[a_half]&gt;b[b_half]){
        if(a_s==a_e)
            return find_same_num(a,b,a_s,a_half,b_s,b_half)+find_same_num(a,b,a_half,a_e,b_half+1,b_e)+find_same_num(a,b,a_s,a_half,b_half+1,b_e);
        else if(b_s==b_e)
            return find_same_num(a,b,a_s,a_half,b_s,b_half)+find_same_num(a,b,a_half+1,a_e,b_half,b_e)+find_same_num(a,b,a_s,a_half,b_half,b_e);
        else
            return find_same_num(a,b,a_s,a_half,b_s,b_half)+find_same_num(a,b,a_half+1,a_e,b_half+1,b_e)+find_same_num(a,b,a_s,a_half,b_half+1,b_e);
    }
    if(a[a_half]&lt;b[b_half]){
        if(a_s==a_e)
            return find_same_num(a,b,a_s,a_half,b_s,b_half)+find_same_num(a,b,a_half,a_e,b_half+1,b_e)+find_same_num(a,b,a_half,a_e,b_s,b_half);
        else if(b_s==b_e)
            return find_same_num(a,b,a_s,a_half,b_s,b_half)+find_same_num(a,b,a_half+1,a_e,b_half,b_e)+find_same_num(a,b,a_half+1,a_e,b_s,b_half);
        else
            return find_same_num(a,b,a_s,a_half,b_s,b_half)+find_same_num(a,b,a_half+1,a_e,b_half+1,b_e)+find_same_num(a,b,a_half+1,a_e,b_s,b_half);
    }
    return 0;
}
int main(){
    int a[8]={
        1,3,5,7,9,11,13,15
    };
    int b[8]={
        2,4,6,8,10,12,14,16
    };
    find_same_num(a,b,0,7,0,7);
}
</pre>

        </div>
         <!--高速版，加载速度快，使用前需测试页面的兼容性-->
 <div id="SOHUCS"></div>
 <script>
  (function(){
       var appid = 'cyroPUdzz',
           conf = 'prod_5d22351c707694b412deb5d3c2dcb492';
               var doc = document,
                   s = doc.createElement('script'),
                   h = doc.getElementsByTagName('head')[0] || doc.head || doc.documentElement;
                       s.type = 'text/javascript';
                           s.charset = 'utf-8';
                               s.src =  'http://assets.changyan.sohu.com/upload/changyan.js?conf='+ conf +'&appid=' + appid;
                                   h.insertBefore(s,h.firstChild);
                                       window.SCS_NO_IFRAME = true;
                                         })()
 </script>                

    </div>
</div>
        <div id="footer">
            <div id="footer-inner">
                <p id="copyright">Copyright (c) 2014-2014 SoLoBlack</p>
            </div>
        </div>
        <div id="elevator_item">
    <a id="elevator" onclick="return false;" title="回到顶部"></a>
    <a class="qr"></a>
    <div class="qr-popup">
        <div id="qrcodeCanvas"></div>
        <span>扫描浏览本网页</span>
    </div>
</div>
<script src="http://lib.sinaapp.com/js/jquery/2.0.3/jquery-2.0.3.min.js" type="text/javascript"></script> 
<script type="text/javascript" src="http://jq22.qiniudn.com/jquery.qrcode.min.js"></script>
<script style='text/javascript'>
$('#qrcodeCanvas').qrcode({
text: window.location.href,//二维码代表的字符串（本页面的URL）
width: 167,//二维码宽度
height: 167//二维码高度
});
</script>

<script type="text/javascript">
$(function() {
        $(window).scroll(function(){
            var scrolltop=$(this).scrollTop();      
            if(scrolltop>=200){     
            $("#elevator_item").show();
            }else{
            $("#elevator_item").hide();
            }
            });     
        $("#elevator").click(function(){
            $("html,body").animate({scrollTop: 0}, 500);    
            });     
        $(".qr").hover(function(){
            $(".qr-popup").show();
            },function(){
            $(".qr-popup").hide();
            }); 
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            processEscapes: true
        }
    });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/javascript" src="http://tajs.qq.com/stats?sId=37497557" charset="UTF-8"></script>

    </body>
</html>

